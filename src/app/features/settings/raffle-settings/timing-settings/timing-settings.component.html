<div class="timing-settings-container">
  <!-- Success Message -->
  @if (successMessage()) {
    <div class="alert alert-success">
      <i class="fas fa-check-circle"></i>
      <span>{{ successMessage() }}</span>
      <button class="close-btn" (click)="successMessage.set(null)">
        <i class="fas fa-times"></i>
      </button>
    </div>
  }

  <!-- Form -->
  <form [formGroup]="timingForm" (ngSubmit)="onSubmit()" class="settings-form">
    <div class="form-section">
      <h2 class="section-title">
        <i class="fas fa-palette"></i>
        Personalizaci칩n de Colores
      </h2>
      <p class="section-description">
        Personaliza los colores de tu p치gina web de rifas
      </p>

      <!-- Colors Grid -->
      <div class="colors-grid">
        <!-- Primary Color -->
        <div class="color-group">
          <label class="form-label">
            <i class="fas fa-paint-brush"></i>
            Color Primario
          </label>
          <div class="color-input-wrapper">
            <input
              type="color"
              formControlName="primaryColor"
              class="color-picker"
            />
            <input
              type="text"
              formControlName="primaryColor"
              class="form-control color-text"
              placeholder="#ff497c"
              maxlength="7"
            />
          </div>
        </div>

        <!-- Primary Color Contrast -->
        <div class="color-group">
          <label class="form-label">
            <i class="fas fa-adjust"></i>
            Contraste Primario
          </label>
          <div class="color-input-wrapper">
            <input
              type="color"
              formControlName="primaryColorContrast"
              class="color-picker"
            />
            <input
              type="text"
              formControlName="primaryColorContrast"
              class="form-control color-text"
              placeholder="#ffffff"
              maxlength="7"
            />
          </div>
        </div>

        <!-- Secondary Color -->
        <div class="color-group">
          <label class="form-label">
            <i class="fas fa-fill-drip"></i>
            Color Secundario
          </label>
          <div class="color-input-wrapper">
            <input
              type="color"
              formControlName="secondaryColor"
              class="color-picker"
            />
            <input
              type="text"
              formControlName="secondaryColor"
              class="form-control color-text"
              placeholder="#3b82f6"
              maxlength="7"
            />
          </div>
        </div>

        <!-- Secondary Color Contrast -->
        <div class="color-group">
          <label class="form-label">
            <i class="fas fa-eye-dropper"></i>
            Contraste Secundario
          </label>
          <div class="color-input-wrapper">
            <input
              type="color"
              formControlName="secondaryColorContrast"
              class="color-picker"
            />
            <input
              type="text"
              formControlName="secondaryColorContrast"
              class="form-control color-text"
              placeholder="#ffffff"
              maxlength="7"
            />
          </div>
        </div>
      </div>

      <!-- Color Preview -->
      <div class="color-preview-section">
        <h3 class="preview-title">
          <i class="fas fa-eye"></i>
          Vista Previa
        </h3>
        <div class="color-preview-grid">
          <div 
            class="preview-card"
            [style.background-color]="primaryColor()"
            [style.color]="primaryColorContrast()">
            <span>Bot칩n Primario</span>
          </div>
          <div 
            class="preview-card"
            [style.background-color]="secondaryColor()"
            [style.color]="secondaryColorContrast()">
            <span>Bot칩n Secundario</span>
          </div>
        </div>
      </div>

      <!-- Submit Button -->
      <div class="form-actions">
        <button
          type="submit"
          class="btn btn-primary"
          [disabled]="timingForm.invalid || isLoading"
        >
          @if (isLoading) {
            <i class="fas fa-spinner fa-spin"></i>
            <span>Guardando...</span>
          } @else {
            <i class="fas fa-save"></i>
            <span>Guardar Apariencia Web</span>
          }
        </button>
      </div>
    </div>
  </form>
</div>